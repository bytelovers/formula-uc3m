<!DOCTYPE html><html><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><!--[if IE]><link rel="shortcut icon" href="/favicon.ico"><![endif]--><title>formula</title><link rel=preload as=script href=/js/app.e2a73571.js><link rel=preload as=style href=/css/app.1dd88bca.css><link rel=preload as=script href=/js/vendor.5e577ee1.js><link href=/css/app.1dd88bca.css rel=stylesheet><link rel=icon type=image/png sizes=32x32 href=/img/icons/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/img/icons/favicon-16x16.png><link rel=manifest href=/manifest.json><meta name=theme-color content=#4DBA87><meta name=apple-mobile-web-app-capable content=yes><meta name=apple-mobile-web-app-status-bar-style content=black><meta name=apple-mobile-web-app-title content=formula-uc3m-client><link rel=apple-touch-icon href=/img/icons/apple-touch-icon-152x152.png><link rel=mask-icon href=/img/icons/safari-pinned-tab.svg color=#4DBA87><meta name=msapplication-TileImage content=/img/icons/msapplication-icon-144x144.png><meta name=msapplication-TileColor content=#000000></head><body><noscript><strong>We're sorry but formula doesn't work properly without JavaScript enabled. Please enable it to continue.</strong></noscript><div id=app></div><script src=https://unpkg.com/mqtt@2.17.0/dist/mqtt.min.js></script><script>var mqtt_server = 'localhost';
      var mqtt_port = 8080;
      var testConnUrl = 'http://localhost:8080/';
      // Comprobar que el servidor está corriendo y si está corriendo conectarse al
      // websocket de mqqt que trae los datos.y
      var req = new XMLHttpRequest();
      req.open('GET', testConnUrl, true);
      req.setRequestHeader('Access-Control-Allow-Origin', '*');
      req.onreadystatechange = function (aEvt) {
        if (req.readyState == 4) {
          if (req.status == 200) {
            openMqttConnection();
          } else {
            console.error("Error conectando al servidor...");
          }
        }
      };
      req.send(null);
      // Abre la conexión al web socket de mqtt que trae los datos en tiempo real.
      function openMqttConnection() {
        var mqttService = mqtt.connect("ws://" + mqtt_server, {
          //username: mqtt_username,
          //password: mqtt_password,
          //clientId: "interface",
          port: mqtt_port
        });
        mqttService.subscribe("formula/realtime-data");
        mqttService.subscribe("formula/realtime-fake-data");
        mqttService.publish("formula/realtime-data", JSON.stringify({
          probando: 'a publicar algo...'
        }));
        // Escuchando los datos en tiempo real.
        mqttService.on("message", (topic, payload) => {
          console.info([topic, payload].join(": "));
        });
      }</script><script type=text/javascript>(function(r){var n=window["webpackJsonp"];window["webpackJsonp"]=function(e,u,c){for(var i,f,p,l=0,a=[];l<e.length;l++)f=e[l],t[f]&&a.push(t[f][0]),t[f]=0;for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(r[i]=u[i]);n&&n(e,u,c);while(a.length)a.shift()();if(c)for(l=0;l<c.length;l++)p=o(o.s=c[l]);return p};var e={},t={2:0};function o(n){if(e[n])return e[n].exports;var t=e[n]={i:n,l:!1,exports:{}};return r[n].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=r,o.c=e,o.d=function(r,n,e){o.o(r,n)||Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:e})},o.n=function(r){var n=r&&r.__esModule?function(){return r["default"]}:function(){return r};return o.d(n,"a",n),n},o.o=function(r,n){return Object.prototype.hasOwnProperty.call(r,n)},o.p="/",o.oe=function(r){throw console.error(r),r}})([]);
//# sourceMappingURL=/js/manifest.ce28c628.js.map</script><script type=text/javascript src=/js/vendor.5e577ee1.js></script><script type=text/javascript src=/js/app.e2a73571.js></script></body></html>